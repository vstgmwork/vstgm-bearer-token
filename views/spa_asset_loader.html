<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>SPA with Vertical Tabs - API Testbed</title>

    <!-- Favicon Links -->
    <link rel="icon" href="/logo.svg" type="image/svg+xml">
    <link rel="shortcut icon" href="/logo.ico" type="image/x-icon" />

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Google Fonts: Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

    <!-- Custom Styles -->
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
    </style>
</head>

<body class="bg-slate-900 text-slate-300">

    <!-- Header Section -->
    <header class="flex flex-col items-center justify-center text-center py-12 px-4 sm:px-6 lg:px-8">
        <a href="/" class="flex items-center justify-center gap-4 mb-4">
            <img src="/logo.svg" alt="API Testbed Logo" class="h-16 w-16">
            <h1 class="text-4xl md:text-5xl font-bold text-slate-100">Single Page Application</h1>
        </a>
        <p class="mt-4 text-lg text-slate-400 max-w-3xl mx-auto">
            A demonstration of a tabbed interface that loads content dynamically.
        </p>
    </header>

    <!-- Main Content: SPA Tabs -->
    <main class="container mx-auto px-4 pb-12">
        <div class="flex flex-col md:flex-row gap-8">
            <!-- Vertical Tab Navigation -->
            <div class="w-full md:w-1/4">
                <div class="bg-slate-800 rounded-lg shadow-2xl p-4">
                    <nav class="flex flex-col space-y-2">
                        <button onclick="showTab('utcTime')"
                            class="tab-button bg-blue-600 text-white text-left font-semibold px-4 py-3 rounded-md hover:bg-blue-700 transition-colors">
                            UTC Time
                        </button>
                        <button onclick="showTab('naruImage')"
                            class="tab-button text-left font-semibold px-4 py-3 rounded-md hover:bg-slate-700 transition-colors">
                            Naru Image
                        </button>
                        <button onclick="showTab('thankYouGif')"
                            class="tab-button text-left font-semibold px-4 py-3 rounded-md hover:bg-slate-700 transition-colors">
                            Thank You GIF
                        </button>
                    </nav>
                </div>
            </div>

            <!-- Tab Content -->
            <div class="w-full md:w-3/4">
                <div id="utcTime" class="tab-content bg-slate-800 p-8 rounded-lg shadow-2xl">
                    <h2 class="text-3xl font-bold text-slate-100 mb-4">Current UTC Time</h2>
                    <p id="utc-time-display" class="text-5xl font-mono font-bold text-green-400"></p>
                </div>
                <div id="naruImage" class="tab-content hidden bg-slate-800 p-8 rounded-lg shadow-2xl">
                    <h2 class="text-3xl font-bold text-slate-100 mb-4">Naru Image</h2>
                    <img src="/naru.jpg" alt="Naru Image"
                        class="w-full h-auto rounded-md shadow-lg object-contain max-h-[500px]">
                </div>
                <div id="thankYouGif" class="tab-content hidden bg-slate-800 p-8 rounded-lg shadow-2xl">
                    <h2 class="text-3xl font-bold text-slate-100 mb-4">Thank You GIF</h2>
                    <img src="/thankyou.gif" alt="Thank You GIF"
                        class="w-full h-auto rounded-md shadow-lg object-contain max-h-[500px]">
                </div>
            </div>
        </div>
    </main>

    <!-- SPA Logic & Clock Script -->
    <script>
        const tabs = document.querySelectorAll('.tab-content');
        const buttons = document.querySelectorAll('.tab-button');
        const utcTimeElement = document.getElementById('utc-time-display');

        const gistScripts = [
            'https://gist.github.com/vstgmwork/3f1c7a6f59d62068015d1b66b415ad16.js',
            'https://gist.github.com/vstgmwork/c97fe542f3f094da7009021ff648d6c8.js',
            'https://gist.github.com/vstgmwork/cd554b93a02e7d7cf2b6c763ca08f9c9.js',
            'https://gist.github.com/vstgmwork/1ea4122cf7f1472c19382ce146fc722e.js'
        ];

        function loadGistScripts() {
            // Remove any previously loaded gist scripts to ensure they are re-loaded
            document.querySelectorAll('.gist-script').forEach(s => s.remove());

            // Create and append a new script tag for each URL
            gistScripts.forEach(url => {
                const script = document.createElement('script');
                script.src = url;
                script.className = 'gist-script'; // Add a class for easy removal
                document.head.appendChild(script);
            });
            console.log('Dynamically loading Gist scripts...');
        }

        function showTab(tabId) {
            // Load the scripts every time a tab is clicked
            loadGistScripts();

            // Hide all tabs
            tabs.forEach(tab => tab.classList.add('hidden'));

            // Deactivate all buttons
            buttons.forEach(button => {
                button.classList.remove('bg-blue-600', 'text-white');
            });

            // Show the selected tab
            document.getElementById(tabId).classList.remove('hidden');

            // Activate the selected button
            const activeButton = Array.from(buttons).find(btn => btn.getAttribute('onclick') === `showTab('${tabId}')`);
            activeButton.classList.add('bg-blue-600', 'text-white');
        }

        // UTC Clock
        function updateUtcTime() {
            const now = new Date();
            utcTimeElement.textContent = now.toUTCString().split(' ')[4];
        }
        setInterval(updateUtcTime, 1000);

        // Initial setup on page load
        document.addEventListener('DOMContentLoaded', () => {
            updateUtcTime(); // Initial call for the clock
            showTab('utcTime'); // Show the first tab and load scripts initially
        });
    </script>
</body>

</html>
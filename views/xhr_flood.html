<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>POST Request Simulator</title>
</head>

<body>

    <div>
        <header>
            <h1>POST Request Simulator</h1>
            <p>This page continuously sends POST requests to a specific endpoint.</p>
        </header>

        <section>
            <h2>Request Log</h2>
            <ul id="log-container">
                <!-- Request status will be logged here -->
            </ul>
        </section>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const logContainer = document.getElementById('log-container');
            const TARGET_URL = 'https://chatbot-exp.vzwcorp.com/cbcs/search/viki';

            function sendPostRequest() {
                const xhr = new XMLHttpRequest();
                xhr.open('POST', TARGET_URL, true);
                // Set a common content type for POST requests
                xhr.setRequestHeader('Content-Type', 'application/json;charset=UTF-8');

                const logItem = document.createElement('li');
                logContainer.prepend(logItem);

                xhr.onload = function () {
                    logItem.textContent = `Request to ${TARGET_URL} completed with status: ${xhr.status}`;
                    logItem.style.color = (xhr.status >= 200 && xhr.status < 300) ? 'green' : 'orange';
                };

                xhr.onerror = function () {
                    logItem.textContent = `Request to ${TARGET_URL} resulted in a network error.`;
                    logItem.style.color = 'red';
                };

                // Send a sample JSON payload, as is common for POST requests
                xhr.send(JSON.stringify({ query: 'test' }));
            }

            // Start sending requests every 2 seconds
            setInterval(sendPostRequest, 2000);
        });
    </script>
</body>

</html>